(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[13,14],{461:function(e,t,s){"use strict";var a=s(23),n=s(24),r=s(30),i=s(31),c=s(0),l=s(265),o=s(518),d=s(516),m=s(108),u=s(517),j=s(496),b=s(497),h=s(423),p=s(514),x=s(436),O=s(34),f=s(168),v=s(4),g=function(e){Object(r.a)(s,e);var t=Object(i.a)(s);function s(){var e;Object(a.a)(this,s);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).avatarEndpoint="https://www.mocky.io/v2/5cc8019d300000980a055e76",e.state={avatarUrl:"/img/avatars/thumb-6.jpg",name:e.props.data.name,email:e.props.data.email,userName:e.props.data.username,dateOfBirth:null,company:e.props.data.company.name,phoneNumber:e.props.data.phone,website:e.props.data.website,address:e.props.data.address.street+" "+e.props.data.address.suite,city:e.props.data.address.city,postcode:e.props.data.address.zipcode},e}return Object(n.a)(s,[{key:"getBase64",value:function(e,t){var s=new FileReader;s.addEventListener("load",(function(){return t(s.result)})),s.readAsDataURL(e)}},{key:"render",value:function(){var e=this,t=this.props.close,s=this.state,a=s.name,n=s.email,r=s.userName,i=s.dateOfBirth,c=s.company,g=s.phoneNumber,y=s.website,N=s.address,w=s.city,C=s.postcode,U=s.avatarUrl;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(f.a,{alignItems:"center",mobileFlex:!1,className:"text-center text-md-left",children:[Object(v.jsx)(o.a,{size:90,src:U,icon:Object(v.jsx)(x.a,{})}),Object(v.jsxs)("div",{className:"ml-md-3 mt-md-0 mt-3",children:[Object(v.jsx)(d.a,{onChange:function(t){var s="updatable";"uploading"!==t.file.status?"done"===t.file.status&&(e.getBase64(t.file.originFileObj,(function(t){return e.setState({avatarUrl:t})})),l.b.success({content:"Uploaded!",key:s,duration:1.5})):l.b.loading({content:"Uploading...",key:s,duration:1e3})},showUploadList:!1,action:this.avatarEndpoint,children:Object(v.jsx)(m.a,{type:"primary",children:"Change Avatar"})}),Object(v.jsx)(m.a,{className:"ml-2",onClick:function(){e.setState({avatarUrl:""})},children:"Remove"}),Object(v.jsx)(m.a,{type:"danger",className:"ml-2",onClick:t,children:"Close"})]})]}),Object(v.jsx)("div",{className:"mt-4",children:Object(v.jsx)(u.a,{name:"basicInformation",layout:"vertical",initialValues:{name:a,email:n,username:r,dateOfBirth:i,company:c,phoneNumber:g,website:y,address:N,city:w,postcode:C},onFinish:function(s){console.log("savechages");var a="updatable";l.b.loading({content:"Updating...",key:a}),setTimeout((function(){e.setState({name:s.name,email:s.email,userName:s.userName,dateOfBirth:s.dateOfBirth,company:s.company,phoneNumber:s.phoneNumber,website:s.website,address:s.address,city:s.city,postcode:s.postcode}),l.b.success({content:"Done!",key:a,duration:2}),setTimeout((function(){l.b.destroy()}),2e3),t()}),1e3)},onFinishFailed:function(e){console.log("Failed:",e)},children:Object(v.jsx)(j.a,{children:Object(v.jsxs)(b.a,{xs:24,sm:24,md:24,lg:16,children:[Object(v.jsxs)(j.a,{gutter:O.c,children:[Object(v.jsx)(b.a,{xs:24,sm:24,md:12,children:Object(v.jsx)(u.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input your name!"}],children:Object(v.jsx)(h.a,{})})}),Object(v.jsx)(b.a,{xs:24,sm:24,md:12,children:Object(v.jsx)(u.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(v.jsx)(h.a,{})})}),Object(v.jsx)(b.a,{xs:24,sm:24,md:12,children:Object(v.jsx)(u.a.Item,{label:"Email",name:"email",rules:[{required:!0,type:"email",message:"Please enter a valid email!"}],children:Object(v.jsx)(h.a,{})})}),Object(v.jsx)(b.a,{xs:24,sm:24,md:12,children:Object(v.jsx)(u.a.Item,{label:"Date of Birth",name:"dateOfBirth",children:Object(v.jsx)(p.a,{className:"w-100"})})}),Object(v.jsx)(b.a,{xs:24,sm:24,md:12,children:Object(v.jsx)(u.a.Item,{label:"Phone Number",name:"phoneNumber",children:Object(v.jsx)(h.a,{})})}),Object(v.jsx)(b.a,{xs:24,sm:24,md:12,children:Object(v.jsx)(u.a.Item,{label:"Website",name:"website",children:Object(v.jsx)(h.a,{})})}),Object(v.jsx)(b.a,{xs:24,sm:24,md:24,children:Object(v.jsx)(u.a.Item,{label:"Address",name:"address",children:Object(v.jsx)(h.a,{})})}),Object(v.jsx)(b.a,{xs:24,sm:24,md:12,children:Object(v.jsx)(u.a.Item,{label:"City",name:"city",children:Object(v.jsx)(h.a,{})})}),Object(v.jsx)(b.a,{xs:24,sm:24,md:12,children:Object(v.jsx)(u.a.Item,{label:"Post code",name:"postcode",children:Object(v.jsx)(h.a,{})})})]}),Object(v.jsx)(m.a,{type:"primary",htmlType:"submit",children:"Save Change"})]})})})})]})}}]),s}(c.Component);t.a=g},467:function(e,t,s){"use strict";s.r(t),s.d(t,"ClientsList",(function(){return k}));var a=s(23),n=s(24),r=s(30),i=s(31),c=s(0),l=s(265),o=s(502),d=s(196),m=s(108),u=s(515),j=s(513),b=s(243),h=s(503),p=s(37),x=s(140),O=s(465),f=s.n(O),v=s(2),g=s(518),y=s(4),N=function(e){return Object(y.jsx)(g.a,Object(v.a)(Object(v.a)({},e),{},{className:"ant-avatar-".concat(e.type),children:e.text}))},w=function(e){var t=e.name,s=e.suffix,a=e.subTitle,n=e.id,r=e.type,i=e.src,c=e.icon,l=e.size,o=e.shape,d=e.gap,m=e.text,u=e.onNameClick;return Object(y.jsxs)("div",{className:"avatar-status d-flex align-items-center",children:[N({icon:c,src:i,type:r,size:l,shape:o,gap:d,text:m}),Object(y.jsxs)("div",{className:"ml-2",children:[Object(y.jsxs)("div",{children:[u?Object(y.jsx)("div",{onClick:function(){return u({name:t,subTitle:a,src:i,id:n})},className:"avatar-status-name clickable",children:t}):Object(y.jsx)("div",{className:"avatar-status-name",children:t}),Object(y.jsx)("span",{children:s})]}),Object(y.jsx)("div",{className:"text-muted avatar-status-subtitle",children:a})]})]})},C=s(107),U=s(461),k=function(e){Object(r.a)(s,e);var t=Object(i.a)(s);function s(){var e;Object(a.a)(this,s);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleFetchClients=function(){e.props.fetchClients()},e.state={users:[],loading:e.props.loading,error:e.props.error,userProfileVisible:!1,selectedUser:null},e.deleteUser=function(t){e.setState({users:e.state.users.filter((function(e){return e.id!==t}))}),l.b.success({content:"Deleted user ".concat(t),duration:2})},e.showUserProfile=function(t){e.setState({userProfileVisible:!0,selectedUser:t})},e.closeUserProfile=function(){e.setState({userProfileVisible:!1,selectedUser:null})},e}return Object(n.a)(s,[{key:"componentDidMount",value:function(){console.log("component mounted"),console.log("this",this),console.log("this.state",this.state),console.log("this.props",this.props),this.props.asyncFetchClients(),console.log("AFTER this.state",this.state),console.log("AFTER this.props",this.props),this.setState({users:this.props.clients})}},{key:"render",value:function(){var e=this,t=this.state,s=t.userProfileVisible,a=t.selectedUser,n=[{title:"User",dataIndex:"name",render:function(e,t){return Object(y.jsx)("div",{className:"d-flex",children:Object(y.jsx)(w,{src:t.img,name:t.name,subTitle:t.email})})},sorter:{compare:function(e,t){return(e=e.name.toLowerCase())>(t=t.name.toLowerCase())?-1:t>e?1:0}}},{title:"Email",dataIndex:"email",sorter:{compare:function(e,t){return e.email.length-t.email.length}}},{title:"Phone",dataIndex:"phone",render:function(e){return Object(y.jsxs)("span",{children:[f.a.unix(e).format("MM/DD/YYYY")," "]})},sorter:function(e,t){return f()(e.phone).unix()-f()(t.phone).unix()}},{title:"Website",dataIndex:"website",render:function(e){return Object(y.jsx)(o.a,{className:"text-capitalize",color:"active"===e?"cyan":"red",children:e})},sorter:{compare:function(e,t){return e.website.length-t.website.length}}},{title:"",dataIndex:"actions",render:function(t,s){return Object(y.jsxs)("div",{className:"text-right",children:[Object(y.jsx)(d.a,{title:"View",children:Object(y.jsx)(m.a,{type:"primary",className:"mr-2",icon:Object(y.jsx)(b.a,{}),onClick:function(){e.showUserProfile(s)},size:"small"})}),Object(y.jsx)(d.a,{title:"Delete",children:Object(y.jsx)(m.a,{danger:!0,icon:Object(y.jsx)(h.a,{}),onClick:function(){e.deleteUser(s.id)},size:"small"})})]})}}];return Object(y.jsx)(y.Fragment,{children:s?Object(y.jsx)(U.a,{data:a,visible:s,close:function(){e.closeUserProfile()}}):Object(y.jsxs)(u.a,{bodyStyle:{padding:"0px"},children:[this.props.loading&&Object(y.jsx)(C.a,{align:"center",cover:"some"}),Object(y.jsx)(j.a,{columns:n,dataSource:this.props.clients,rowKey:"id"})]})})}}]),s}(c.Component),I={fetchClients:x.b,asyncFetchClients:x.a};t.default=Object(p.b)((function(e){var t=e.clients;return{loading:t.loading,clients:t.clients,error:t.error}}),I)(k)},499:function(e,t,s){"use strict";s.r(t);s(0);var a=s(42),n=s(467),r=s(461),i=s(4);t.default=function(e){var t=e.match;return Object(i.jsxs)(a.d,{children:[Object(i.jsx)(a.b,{path:"".concat(t.url,"/clients-list"),component:n.default}),Object(i.jsx)(a.b,{path:"".concat(t.url,"/client-data/:id"),component:r.a})]})}}}]);
//# sourceMappingURL=13.4d1becda.chunk.js.map